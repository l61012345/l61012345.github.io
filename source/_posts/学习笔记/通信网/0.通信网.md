---
title: 0.通信网络概述
category_bar: true
categories: 
- 学习笔记
- 通信和计算机网络
tag:
- 通信工程
- 通信网络
---
# 通信网络概述
## 通信系统认知
### 通信发展背景
通信技术发展的驱动力有两方面，其一是技术特性的发展，其二是需求的不断变化，可以简单归纳为技术(techique)和经济(economy)。  
- 技术特性的发展，发展趋势包括：  
  - 速度越来越快、价格越来越低  
  - 智能化：能提供不同的服务质量(QoS)和可自定义的安全管理服务  
  - 因特网、万维网的连接和内外网的构建
  - 移动性的不断增强
- 新需求带来的新的服务，内容包括：  
  - 对高速局域网的需求  
  - 企业对广域网的需求  
  - 数字电器和数字资源带来的高通信量的需求  

### 通信模型
通信模型包括如下几个要素：  

<img src = https://cdn.jsdelivr.net/gh/l61012345/Pic/img/20220327161658.png width=50%>  

- 源点(source)：生成传输数据
- 发送器（transmitter）：将信息转化和编码为传输系统中接受的电磁信号
- 传输系统（transmission system）：传输电磁信号，可以是传输线或者复杂的网络系统
- 接收器（receiver）：接收传输系统的信号，转化为可以被终点接收的数据信息
- 终端（destination）：接收来自接收器的数据信息  

但是，传输系统的概念是相对的，在通信传输中，传输系统的概念：
- 可以是微观的，也可以是宏观的  
- 可以是复杂的，也可以是简单的  
  传输系统的概念可以简单到任何能够独立实现传输功能的都是传输系统。可以直接在节点图上表示为两个节点之间的一条线。  

### 通信任务
- 传输系统的利用  
  如何充分利用传输设施，通常包括复用（多个用户之间共享通信资源）和拥塞控制（避免系统因为过量的传输服务请求而超载）技术。  
- 接口  
  任何通信设备都需要通过接口与传输系统连接。  
- 产生信号  
  产生的信号需要满足：(1)使得信号可以在传输系统上进行传播 (2)信号能够被接收器转换为数据。  
- 同步  
  接收器与发送器之间发送信号时，接收器需要知道信号的持续时间，发送时间和结束时间。  
- 交换管理  
  制定两个设备通信时的规则，包括传输是否同时、单次传输的数据量、数据格式和意外情况的应对。  
  交换管理中的两个重要任务是：  
  - 差错检测和纠正：检测传输内容时候有错，并进行一定程度的校正。  
  - 流控制：避免终端不会因为源发送数据过快而无法及时接收和处理数据导致超载。  
- 恢复  
  在传输发生故障而中断时能够从中断处继续工作，或者把涉及到的部分恢复到交换之前的状态。  
- 寻址和路由选择  
  选择传输过程中某条具体的路径，且保证终端能够且唯一的接收到数据。  
- 报文的格式化  
  使得在数据传输时数据的格式达成一致。  
- 网络管理  
  对通信系统进行设置，监控，在发生故障时进行处理。  
- 安全措施  
  确保只有期望的接收方可以接收到数据，且保证收到的数据不发生改动。  

### 信息的传输
信息传输的目标是：在最小花费的前提下，某种特定的设施能够提供所要求的性能，并且具有可接受的可靠性。  
从目标来看，在设计传输系统时需要考虑**传输媒体、通信技术和传输效率**。  
- 传输媒体  
  现在普遍使用的传输方式是光纤传输和无线传输，这其中常见的传输媒体是**双绞线、同轴线、光纤、地面微波**和**卫星微波**。  
  光纤传输具有容量大和安全性（几乎不可能被窃听）的特点。但是目前交换技术的发展成为了瓶颈。  
  无线传输具有：  
  - 个人可以轻松识别自己身份，并通过账号在广域内方便使用任何通信系统的能力。  
  - 只用一个终端就能在不同环境下与信息服务连接的能力。  
- 传输效率的提高  
  虽然传输设施的容量增加了，费用降低了，但是传输服务的支出仍然是企业服务中最大的一部分。提高传输效率可以减小通信系统的花费。常见的提高传输效率的技术有：  
  - 复用（multiplexing）  
    多个设备按照一定规则共享一个传输设施的通信资源，共享可以让该设施的费用由多个设备所属的用户分担。  
    常见的复用技术有频分复用、波分复用、同步时分复用和统计时分复用，以及码分复用。  
  - 压缩（compression）  
    减小数据体积，使得低容量且较为便宜的传输设施能够满足特定的需求。  


## 网络
### 广域网
通常广域网覆盖了很大的地理范围，内部包含了多个相互交换的节点，从一个设备触发的传输过程要通过路径选择（称为路由选择），途径选择的网络节点，最终到达某个终端。这些中途的网络节点不关心转发数据的内容，只提供数据交换功能，这样的传输称为透传（transparant transmission）。同时，局域网内部节点的拓扑结构通常是网状的(mesh)。  


### 局域网
一般来说，相较于广域网的定义，局域网所囊括的地理范围更小，但是这样的定义仍然是灵活的。现在判断网络是局域网还是广域网主要是根据：1) 协议/信令/接口 是否通用 2) 网络内的资源是否所有人都可以使用。  
通常情况下，局域网和局域网连接的设备都属于同一个组织，因此局域网内部的功能可以由组织自主定义，且局域网的网络管理由组织或者用户负责。   
一般来说，局域网内的数据率要比广域网高得多。  
局域网的常见配置是交换局域网和无限局域网，交换局域网可能含有一个或多个相互连接的交换机，每一个交换机连接了一些设备。这种拓扑结构是星型（star）。  
从这里可以看出，交换的功能是进行小范围的节点通信。  
{% note info %}  
注意计算机网络中的交换与通信网络中的交换机概念和定义都完全不同，此处指计算机网络中的交换和交换机。  
{% endnote %} 

### 因特网
因特网（internet）是由1969年美国国防部开发的ARPANET演变而来的。因特网的终端系统称为主机（host），使用因特网的绝大多数主机会连接到某个局域网或者广域网上，这些网络通过路由器彼此相连。路由器的作用是在终端之间相互通信前在网络中进行大跨度范围的通信路径选择（称为路由）。  

<img src = https://cdn.jsdelivr.net/gh/l61012345/Pic/img/20220329091359.png width=50%>  

可以发现，一些局域网的作用是将本地设备进行汇聚，并通过路由器接入到多个相连的广域网中，这样的局域网称为接入网(AN)。为了保证接入网的高效运行和节省开支，**接入网**一般使用**星形**作为拓部结构。而多个相连的广域网最终组成核心网（CN），为了保证核心网的可靠性，**核心网一般采用网状拓扑结构**。  
{% note info %}
接入网和核心网的概念来源于通信网络，在计算机网络中一般更强调本地网络和因特网，但是两个概念趋近于融合。   
{% endnote %} 
源点主机将需要发送的数据拆分为一个分组序列，称为IP数据报/IP分组。每个分组包含目标主机的唯一数字地址：IP地址。每个分组根据这个目的地址途径一系列的路由器和网络，路由器是连接两个网络的处理器，功能是将数据沿着从源到终端的路径从一个网络转发到另一个网络，每个路由器在接收到分组时会进行路由选择，并沿着该路径转发数据包。  

<img src = https://cdn.jsdelivr.net/gh/l61012345/Pic/img/20220329092403.png width=50%>  



## 拓扑结构
常用的拓扑结构如下表所示：  

| 类型 |结构| 优点 | 缺点 |
|:---|:---|:---|:---|
|星形<br>(最基本) |每一个站点通过两条点对点链路与同一个中央节点连接：<br>一条链路负责发送，一条链路负责接收。中央节点的作用可以是实现广播功能，也可以实现帧交换功能。|1. 新设备可以很方便地加入或者离开网络，可以提供更多，更方便的连接  <br>2.设备之间不会有干扰 | 1. 可靠性低 <br>2.需要中央结点 |
|网形<br>(最基本) |每个结点与可能不止一个其他结点相连。|可靠性高，交换和路由设置更灵活。|需要设置的链路数量更多，成本更高|
|总线形* | 所有的站点通过标准的硬件接口直接连接到一个线性传输媒体上。|新设备可以很方便地加入或者离开网络 | 1. 可靠性低，如果主线断所有都断  <br> 2.需要采取某些机制避免碰撞  <br>3. 两端需要端子吸收信号|
|环形* |由若干段单向链路组成，每段链路的首尾通过转发器与其他链路的首/尾相连。| 被传输的信号在每一节点上再生，传输信息误码率可减到最少 | 1. 结点故障会引起全网故障 <br>2.需要采取某些机制避免碰撞|
|树形* |从一个称为头端的点开始，延伸出多条缆线，每条缆线可以有多个分支。每条缆线可以视为一个总线形结构，缆线上有若干分接头。|1.分支之间相对独立的同时分支之间的资源可以共享 <br> 2.新设备可以很方便地加入或者离开网络|1.主线断，处处断 <br> 2.需要采取某些机制避免碰撞|

### 通信网拓扑结构的演变
- 最初，结点之间的交换能力并不强，因此电信网采用的拓扑结构是网状结构，以保证端到端的连通性。并且当时的用户数量少，设置多条链路的开销并不大。  
- 随着用户数量的增大，网状拓扑结构多余链路的设置会带来更高的成本，因此电信网采用的拓扑结构是星形，当时此时已经有一些技术可以保证通信的可靠性，以弥补星形结构弱可靠性的缺点。  
- 电话费价格降低带来了业务量的增长，中央结点的负荷量增大，为了能够分担中央结点的负荷，此时中央结点之间由设置链路以分配各中央结点的负荷量，弥补交换能力的不足。用户接入数量的增多以及为了保证用户可以尽可能简单地接入网络，在用户连接端使用的拓扑结构仍然是星形。此时整个通信网被划分为核心网和接入网两大部分，并采用混合的拓扑结构。  
- 随着业务种类的增长，在这个阶段，中央结点的功能不再是单纯的交换，而有计算、存储等功能。进一步地，由于有足够高的数据率，这些功能节点可以被虚拟化至云服务器，并采用云计算技术提供支持。目前，为了进一步降低传播时延，部分云端的功能被拉入接入网，实现边缘计算。  


## TCP-IP和OSI协议体系结构
### 协议和协议体系
通信双方在进行通信时还需要完成一些工作，比如：  
- 源点系统激活直连的数据信道
- 源点系统确认终端已经准备好接收数据
- 格式转换  

这些通信任务需要通信相关的设备和节点能够协同工作，协议就是一种指定协同工作方式和规则的体系结构，这些体系结构是由一组格式化和标准化的数据块承载，协议规定了通信的环境。  
协议有三个关键因素:  
- 语法：数据块的格式  
- 语义：包含控制信息  
- 定时：包括传输速率的匹配和数据包排序  

同时，在协议体系中，通信任务被分解为若干个子任务，这些子任务的相互依赖关系形成栈结构。栈中的每一层需要依赖下一层执行更原始的功能，同时这一层也要向上一层提供服务。然而每一层又是相对独立的，即对每一层的设置和改动都不应该影响到其他层。两个通信系统必须要有相同的层次（称为对等层），才能建立层间通信。  

### TCP-IP结构
TCP-IP的原始设想是两台计算机通过网络连接，源点应用程序将数据通过网络进行传送最终交付到目的计算机的应用程序中。根据这个设想可以将通信任务划分为如下的五层结构，从下到上依次是：  
- 物理层：传输设备与传输媒体、网络的物理接口。  
- 网络接入层：端系统与相连网络之间的数据交换。与相连的两个系统提供网络接入，并进行路由选择。  
- 网际层/IP层：负责将数据传输跨越多个网络，这一层使用IP协议提供多个网络的路由。  
- 运输层/TCP层：保证数据包接收的顺序和可靠性，以及对属于不同应用的数据包的分配和交付。  
- 应用层：支持不同应用程序的逻辑。  

#### TCP和IP的操作
IP将来自某个主机的数据块经过多个路由器传递到另一个主机上，为了保证通信成功，每个主机都有一个唯一的全局互联网地址，称为IP地址。而TCP仅仅在端系统上实现，确保所有数据包都被可靠的交付给对应的应用程序，为了保证交付成功，主机上的每一个进程都会有一个内部唯一的地址，称为端口/端口号。而用户计算机上的应用程序可以调用计算机上不同的进程。  

<img src = https://cdn.jsdelivr.net/gh/l61012345/Pic/img/20220329131223.png width=50%>  

TCP/IP协议族中的每一层都只与它直接的相邻层进行操作，层与层之间的通信语言称为原语，原语大致分为4类：请求、指示、响应和证实。  
在TCP/IP通信中，进程通过端口将发送数据（报文）递交给TCP，并指定目的地的端口和主机，这个过程会使用请求原语，同样地，TCP层将数据切分为更小的数据块便于管理，并在每个数据块前添加一段控制信息，（这段控制信息包括目的端口、序号、校验和等）并使用请求原语将报文向下递交给IP，IP也在TCP数据报之前附加一段控制信息，形成IP数据报，IP请求讲报文递交给网络接入层，并命令报文发送到路由器上。路由器检查IP数据报的首部，并通过路径转发数据，最终到达目的主机的网络接入层。网络接入层使用指示原语解包将数据传递到IP层，IP层对IP首部进行解包，也使用指示源语将数据传递到TCP层，TCP层解包TCP首部后将数据转发给对应的进程。   

<img src = https://cdn.jsdelivr.net/gh/l61012345/Pic/img/20220329132806.png width=50%>   

上述过程称为“无证实的服务”。事实上，终端主机在接收到数据后还会通过指示源语向下传递确认信息，源的主机接受到确认信息后通过证实源语向上传递，加入这两个步骤的服务称为“证实的服务”。  

<img src = https://cdn.jsdelivr.net/gh/l61012345/Pic/img/20220329133102.png width=50%>   

#### UDP协议
除了TCP协议外，还有另一种运输层协议，称为用户数据报协议（UPD），这是一种无连接的分组交换协议。UDP可以让一个进程通过最少的协议机制向另一个进程发送报文。其本质是在IP上增加了一个端口寻址的能力。  

### OSI参考模型体系结构
OSI体结构参考模型(OSIRM)包括7层，但是由于TCP协议成熟之时OSI协议尚处于开发阶段，因此整体上的OSI七层模型设计并未得到真正应用。不过基于OSI理念下仍然成功地开发出了很多有用的协议。  
<figure class="half">
  <img src = https://cdn.jsdelivr.net/gh/l61012345/Pic/img/20220329133452.png width=32.7%>  
  <img src = https://cdn.jsdelivr.net/gh/l61012345/Pic/img/20220329133650.png width=30%>  
</figure> 

#### OSI框架的标准化
OSI框架的标准规定：  
- 每一层功能有有成熟的定义，并且可以独立并行地为每一层开发标准。  
- 层与层之间的边界有成熟的定义，改变某一层的标准不会影响到一个层中现有的软件。  
  
其标准化依赖于三个关键元素：
- 协议规约：不同系统中同层的两个实体可以通过协议相互合作和交互
- 服务定义：每一层提供给上层的服务需要标准化
- 寻址：每一层可以向上一层的多个实体提供多种服务  
  
<img src = https://cdn.jsdelivr.net/gh/l61012345/Pic/img/20220329134115.png width=50%>  



